import{m as f,I as c,i as _}from"./module-ant-design-vue-95e6c6e8.js";import{u as d}from"./useDefineModel-3d383046.js";import{l as u,s as v}from"./index-1b8adc0e.js";import{r as g,u as e,aJ as b,_ as x,bm as y,f as B,E as h}from"./module-@vue-bde5bc49.js";import"./vendor-77887a9f.js";const N={__name:"field-input",setup(k){const{propertyCN:n,modelValue:o,action:s,property:i}=d(),m=g([{required:!0,message:"唯一标识为必填项",trigger:"blur"},{validator:(p,r)=>(Object.keys(u).some(t=>e(u[t])===r?t!==v.value.id:!1)&&(s.undoChange(),f.error("唯一标识已存在，已撤销标识的更改！",3)),Promise.resolve()),trigger:"blur"}]);return(p,r)=>{const a=c,t=_;return b(),x(t,{class:"property-editor",label:e(n),name:e(i),rules:m,help:"标识必须唯一，除非你并不需要操作该字段"},{default:y(()=>[B(a,{value:e(o),"onUpdate:value":r[0]||(r[0]=l=>h(o)?o.value=l:null),valueModifiers:{trim:!0},onBlur:e(s).record},null,8,["value","onBlur"])]),_:1},8,["label","name","rules"])}}};export{N as default};

import{o as S,B as E,f as L,i as U}from"./module-ant-design-vue-4fa5107e.js";import{ax as J}from"./vendor-42cfe147.js";import{s as f,m as M,n as $,d as b,o as v}from"./index-daf5323a.js";import{u as z}from"./usePropEditorModel-a1e523c7.js";import{k as y,y as F,aR as x,aJ as G,$ as H,bm as c,f as l,u as t,E as C,a2 as O}from"./module-@vue-50b83bc4.js";import"./module-dayjs-a26c16b1.js";import"./module-lodash-clonedeep-8dddd65f.js";import"./module-axios-1453fd4d.js";import"./module-lodash-isequal-55ce7966.js";const P=O("span",{style:{"margin-bottom":"2px"}},"编辑",-1),Y={__name:"style-editor",setup(T){const g=[J()],i=y(!1),h=()=>{i.value=!0},{modelValue:s,propertyCN:m,property:u,action:N}=z(),r=F(f.value.options,"className"),p=y([]);function _(){t(s)&&M(t(s),f.value.id);let n=[];!$()&&b.options.globalStyle&&n.push(...v(b.options.globalStyle,o=>({value:"$global-"+o,label:"[Global] "+o})));const e=v(s,o=>({value:o,label:o,key:o}));e.length>0&&n.push(...e),p.value=n}_();const d=()=>{N.record(()=>_())};return(n,e)=>{const o=S,k=x("css-icon"),w=E,V=x("codemirror"),B=L,R=U;return G(),H(R,{class:"style-editor",label:t(m)||t(u)},{default:c(()=>[l(o,{showSearch:"",mode:"multiple",style:{width:"calc(100% - 90px)"},value:t(r),"onUpdate:value":e[0]||(e[0]=a=>C(r)?r.value=a:null),options:p.value,"max-tag-count":2,allowClear:""},null,8,["value","options"]),l(w,{onClick:h,class:"property-edit-btn"},{default:c(()=>[l(k),P]),_:1}),l(B,{visible:i.value,"onUpdate:visible":e[2]||(e[2]=a=>i.value=a),title:t(m)||t(u),footer:null,keyboard:!1,class:"custom-code-modal",onCancel:d,onOk:d},{default:c(()=>[l(V,{modelValue:t(s),"onUpdate:modelValue":e[1]||(e[1]=a=>C(s)?s.value=a:null),style:{width:"100%",height:"450px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:g},null,8,["modelValue"])]),_:1},8,["visible","title"])]),_:1},8,["label"])}}};export{Y as default};

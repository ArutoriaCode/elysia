import{o as S,B as E,f as L,i as U}from"./module-ant-design-vue-b0af5d7f.js";import{ay as J}from"./vendor-abf37f8f.js";import{s as f,m as M,n as $,d as b,o as y}from"./index-8bf84a3d.js";import{u as z}from"./useDefineModel-652f21c3.js";import{k as v,y as D,aR as C,aJ as F,$ as G,bm as c,f as l,u as t,E as x,a2 as H}from"./module-@vue-50b83bc4.js";import"./module-dayjs-a26c16b1.js";import"./module-lodash-clonedeep-8dddd65f.js";import"./module-axios-1453fd4d.js";import"./module-lodash-isequal-55ce7966.js";const O=H("span",{style:{"margin-bottom":"2px"}},"编辑",-1),Y={__name:"style-editor",setup(T){const g=[J()],i=v(!1),h=()=>{i.value=!0},{modelValue:s,propertyCN:m,property:u,action:N}=z(),r=D(f.value.options,"className"),p=v([]);function _(){t(s)&&M(t(s),f.value.id);let n=[];!$()&&b.options.globalStyle&&n.push(...y(b.options.globalStyle,o=>({value:"$global-"+o,label:"[Global] "+o})));const e=y(s,o=>({value:o,label:o,key:o}));e.length>0&&n.push(...e),p.value=n}_();const d=()=>{N.record(()=>_())};return(n,e)=>{const o=S,k=C("css-icon"),w=E,V=C("codemirror"),B=L,R=U;return F(),G(R,{class:"style-editor",label:t(m)||t(u)},{default:c(()=>[l(o,{showSearch:"",mode:"multiple",style:{width:"calc(100% - 90px)"},value:t(r),"onUpdate:value":e[0]||(e[0]=a=>x(r)?r.value=a:null),options:p.value,"max-tag-count":2,allowClear:""},null,8,["value","options"]),l(w,{onClick:h,class:"property-edit-btn"},{default:c(()=>[l(k),O]),_:1}),l(B,{visible:i.value,"onUpdate:visible":e[2]||(e[2]=a=>i.value=a),title:t(m)||t(u),footer:null,keyboard:!1,class:"custom-code-modal",onCancel:d,onOk:d},{default:c(()=>[l(V,{modelValue:t(s),"onUpdate:modelValue":e[1]||(e[1]=a=>x(s)?s.value=a:null),style:{width:"100%",height:"450px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:g},null,8,["modelValue"])]),_:1},8,["visible","title"])]),_:1},8,["label"])}}};export{Y as default};

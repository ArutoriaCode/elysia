import{B as h,i as N,j as R,d as C}from"./module-ant-design-vue-9de02c45.js";import{as as g,at as V,ak as j}from"./vendor-4067ff6d.js";import{s as k}from"./index-dc3f6e49.js";import{u as B}from"./useDefineModel-8512ece4.js";import{k as $,aR as w,aJ as F,_ as T,bm as n,f as l,D as c,u as a,E as D,a1 as d}from"./module-@vue-bde5bc49.js";const E=g.data.of({autocomplete:function(i){let t=i.matchBefore(/.*ctx\./);if(t&&t.text.trim()==="ctx."){let o=[{label:"props",type:"variable",detail:"组件属性"},{label:"refs",type:"variable",detail:"表单引用对象"},{label:"emit",type:"function",detail:"触发自定义事件"}];const{options:e}=k.value;return e&&e.formRefName&&(o=[...o,{label:`refs.${e.formRefName}`,type:"variable",detail:"表单实例对象"},{label:`refs.${e.formRefName}.validate`,type:"function",detail:"触发表单验证, 同 validateFields"},{label:`refs.${e.formRefName}.validateFields`,type:"function",detail:"触发表单验证"},{label:`refs.${e.formRefName}.clearValidate`,type:"function",info:"移除表单项的校验结果。传入待移除的表单项的 name 属性或者 name 组成的数组，如不传则移除整个表单的校验结果"},{label:`refs.${e.formRefName}.scrollToField`,type:"function",detail:"滚动到对应字段位置"},{label:`refs.${e.formRefName}.resetFields`,type:"function",info:"对整个表单进行重置，将所有字段值重置为初始值并移除校验结果"}]),{from:t.to,options:o}}return t=i.matchBefore(/[c|t|x]/),!t||t.from==t.to?null:{from:t.from,options:[{label:"ctx",type:"variable",detail:"组件上下文实例"}]}}}),M=d("div",null,[c(" 可以使用 "),d("span",{style:{"font-weight":"bold"}},"ctx"),c(" 来获取组件实例上下文 ")],-1),q={__name:"js-editor",setup(i){const t=[V(),E],{modelValue:o,propertyCN:e,property:m,checkChangeRecord:u}=B(),r=$(!1),p=()=>{r.value=!0};return(U,s)=>{const _=w("js-code-icon"),b=h,v=N,y=R,x=C;return F(),T(x,{class:"javascript-editor",label:a(e)||a(m)},{default:n(()=>[l(b,{onClick:p,class:"code-edit-btn"},{default:n(()=>[l(_),c(" 编辑 ")]),_:1}),l(y,{visible:r.value,"onUpdate:visible":s[1]||(s[1]=f=>r.value=f),title:a(e)||a(m),footer:null,keyboard:!1,class:"custom-code-modal",onClose:a(u)},{default:n(()=>[l(v,{type:"info","show-icon":""},{message:n(()=>[M]),_:1}),l(a(j),{modelValue:a(o),"onUpdate:modelValue":s[0]||(s[0]=f=>D(o)?o.value=f:null),style:{width:"100%",height:"450px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:t},null,8,["modelValue"])]),_:1},8,["visible","title","onClose"])]),_:1},8,["label"])}}};export{q as default};

import{s as f,I as c,g as _}from"./module-ant-design-vue-f08df730.js";import{u as d}from"./useDefineModel-676c8c6c.js";import{i as u,s as g}from"./index-261ad9e4.js";import{r as v,u as e,aJ as b,_ as x,bm as y,f as B,E as h}from"./module-@vue-bde5bc49.js";import"./vendor-e924a219.js";const N={__name:"field-input",setup(k){const{propertyCN:n,modelValue:s,action:o,property:i}=d(),m=v([{required:!0,message:"唯一标识为必填项",trigger:"blur"},{validator:(p,r)=>(Object.keys(u).some(t=>e(u[t])===r?t!==g.value.id:!1)&&(o.undoChange(),f.error("唯一标识已存在，已撤销标识的更改！",3)),Promise.resolve()),trigger:"blur"}]);return(p,r)=>{const a=c,t=_;return b(),x(t,{class:"property-editor",label:e(n),name:e(i),rules:m,help:"标识必须唯一，除非你并不需要操作该字段"},{default:y(()=>[B(a,{value:e(s),"onUpdate:value":r[0]||(r[0]=l=>h(s)?s.value=l:null),valueModifiers:{trim:!0},onBlur:e(o).record},null,8,["value","onBlur"])]),_:1},8,["label","name","rules"])}}};export{N as default};

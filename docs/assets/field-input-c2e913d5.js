import{m as f,I as c,i as d}from"./module-ant-design-vue-16910fa5.js";import{u as _}from"./useDefineModel-61db16bf.js";import{l as i,s as v}from"./index-376cad1e.js";import{r as g,u as e,aJ as b,$ as x,bm as y,f as B,E as h}from"./module-@vue-50b83bc4.js";import"./vendor-3155b9bf.js";import"./module-dayjs-a26c16b1.js";import"./module-lodash-isequal-55ce7966.js";import"./module-lodash-clonedeep-8dddd65f.js";import"./module-axios-1453fd4d.js";const D={__name:"field-input",setup(k){const{propertyCN:u,modelValue:o,action:s,property:n}=_(),m=g([{required:!0,message:"唯一标识为必填项",trigger:"blur"},{validator:(p,r)=>(Object.keys(i).some(t=>e(i[t])===r?t!==v.value.id:!1)&&(s.undoChange(),f.error("唯一标识已存在，已撤销标识的更改！",3)),Promise.resolve()),trigger:"blur"}]);return(p,r)=>{const a=c,t=d;return b(),x(t,{class:"property-editor",label:e(u),name:e(n),rules:m,help:"标识必须唯一，除非你并不需要操作该字段"},{default:y(()=>[B(a,{value:e(o),"onUpdate:value":r[0]||(r[0]=l=>h(o)?o.value=l:null),valueModifiers:{trim:!0},onBlur:e(s).record},null,8,["value","onBlur"])]),_:1},8,["label","name","rules"])}}};export{D as default};
